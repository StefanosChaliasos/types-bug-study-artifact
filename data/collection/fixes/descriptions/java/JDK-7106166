EndPosParser is a component of the Javac parsing system which stores the end positions
of tokens, for use by IDEs. The way this is currently implemented makes it hard to
subclass the existing JavacParser. Therfore this needs to be suitably refactored.
