javac needs to be more robust for this case.

$ javac -upgrademodulepath java.transaction.jar Test.java
An exception has occurred in the compiler (9-ea). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.
java.lang.AssertionError
	at com.sun.tools.javac.util.Assert.error(jdk.compiler@9-ea/Assert.java:155)
	at com.sun.tools.javac.util.Assert.checkNonNull(jdk.compiler@9-ea/Assert.java:62)
	at com.sun.tools.javac.comp.Modules.completeModule(jdk.compiler@9-ea/Modules.java:967)
	at com.sun.tools.javac.comp.Modules.access$000(jdk.compiler@9-ea/Modules.java:117)
	at com.sun.tools.javac.comp.Modules$2.complete(jdk.compiler@9-ea/Modules.java:474)
	at com.sun.tools.javac.code.Symtab.lambda$enterModule$10(jdk.compiler@9-ea/Symtab.java:748)
	at com.sun.tools.javac.code.Symbol.complete(jdk.compiler@9-ea/Symbol.java:602)
	at com.sun.tools.javac.comp.Modules.lambda$allModules$5(jdk.compiler@9-ea/Modules.java:844)
	at com.sun.tools.javac.comp.Modules.allModules(jdk.compiler@9-ea/Modules.java:854)
	at com.sun.tools.javac.comp.Modules.completeModule(jdk.compiler@9-ea/Modules.java:977)
	at com.sun.tools.javac.comp.Modules.access$000(jdk.compiler@9-ea/Modules.java:117)
	at com.sun.tools.javac.comp.Modules$2.complete(jdk.compiler@9-ea/Modules.java:474)
	at com.sun.tools.javac.code.Symtab.lambda$enterModule$10(jdk.compiler@9-ea/Symtab.java:748)
	at com.sun.tools.javac.code.Symbol.complete(jdk.compiler@9-ea/Symbol.java:602)
	at com.sun.tools.javac.comp.Modules.lambda$allModules$5(jdk.compiler@9-ea/Modules.java:844)
	at com.sun.tools.javac.comp.Modules.allModules(jdk.compiler@9-ea/Modules.java:854)
	at com.sun.tools.javac.comp.Modules.completeModule(jdk.compiler@9-ea/Modules.java:977)
	at com.sun.tools.javac.comp.Modules.access$000(jdk.compiler@9-ea/Modules.java:117)
	at com.sun.tools.javac.comp.Modules$2.complete(jdk.compiler@9-ea/Modules.java:474)
	at com.sun.tools.javac.code.Symtab.lambda$enterModule$10(jdk.compiler@9-ea/Symtab.java:748)
	at com.sun.tools.javac.code.Symbol.complete(jdk.compiler@9-ea/Symbol.java:602)
	at com.sun.tools.javac.comp.Modules.lambda$allModules$5(jdk.compiler@9-ea/Modules.java:844)
	at com.sun.tools.javac.comp.Modules.allModules(jdk.compiler@9-ea/Modules.java:854)
	at com.sun.tools.javac.comp.Modules.enter(jdk.compiler@9-ea/Modules.java:216)
	at com.sun.tools.javac.main.JavaCompiler.initModules(jdk.compiler@9-ea/JavaCompiler.java:1020)
	at com.sun.tools.javac.main.JavaCompiler.initModules(jdk.compiler@9-ea/JavaCompiler.java:1012)
	at com.sun.tools.javac.main.JavaCompiler.compile(jdk.compiler@9-ea/JavaCompiler.java:906)
	at com.sun.tools.javac.main.Main.compile(jdk.compiler@9-ea/Main.java:269)
	at com.sun.tools.javac.main.Main.compile(jdk.compiler@9-ea/Main.java:144)
	at com.sun.tools.javac.Main.compile(jdk.compiler@9-ea/Main.java:55)
	at com.sun.tools.javac.Main.main(jdk.compiler@9-ea/Main.java:41)
