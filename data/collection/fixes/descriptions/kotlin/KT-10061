In Android Studio with Beta-2
"Smart cast to "Kotlin.String!" is impossible, because 'intent.action' is a member value that has open or custom getter"

{code:lang=Kotlin|title=Code}
override fun onReceive(context: Context, intent: Intent) {
    super.onReceive(context, intent)
    if (intent.action != null) {
        when ({color:red}intent.action{color}) { ... }
        ...
    }
}{code}

