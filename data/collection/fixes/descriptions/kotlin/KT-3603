{code}
fun foo():String? {...}


  var a = foo()
  if (a == null) a = "a"
  val b: String = a
{code}

in the last line, {{a}} can't be null, but the assignment is highlighted as prohibited