{code}
inline fun fooArray(get: Any.(Int) -> Int, set: Any.(Int, Int) -> Unit, p: () -> Int) {
    p[1]
    p[1] = 2
}
{code}

{cut StackOverflowError}
java.lang.StackOverflowError
	at java.util.HashSet.<init>(HashSet.java:141)
	at java.util.LinkedHashSet.<init>(LinkedHashSet.java:137)
	at org.jetbrains.jet.lang.cfg.pseudocode.InstructionImpl.<init>(InstructionImpl.java:28)
	at org.jetbrains.jet.lang.cfg.pseudocode.JetElementInstructionImpl.<init>(JetElementInstructionImpl.java:28)
	at org.jetbrains.jet.lang.cfg.pseudocode.InstructionWithNext.<init>(InstructionWithNext.java:29)
	at org.jetbrains.jet.lang.cfg.pseudocode.MarkInstruction.<init>(instructions.kt:67)
	at org.jetbrains.jet.lang.cfg.pseudocode.JetControlFlowInstructionsGenerator$JetControlFlowInstructionsGeneratorWorker.mark(JetControlFlowInstructionsGenerator.java:258)
	at org.jetbrains.jet.lang.cfg.JetControlFlowBuilderAdapter.mark(JetControlFlowBuilderAdapter.java:240)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.mark(JetControlFlowProcessor.java:150)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:886)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:117)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:740)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:21)
	at org.jetbrains.jet.lang.psi.JetArrayAccessExpression.accept(JetArrayAccessExpression.java:39)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateInstructions(JetControlFlowProcessor.java:155)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateReceiver(JetControlFlowProcessor.java:1098)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1074)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1065)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.checkAndGenerateCall(JetControlFlowProcessor.java:1058)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:888)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:117)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:740)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:21)
	at org.jetbrains.jet.lang.psi.JetArrayAccessExpression.accept(JetArrayAccessExpression.java:39)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateInstructions(JetControlFlowProcessor.java:155)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateReceiver(JetControlFlowProcessor.java:1098)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1074)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1065)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.checkAndGenerateCall(JetControlFlowProcessor.java:1058)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:888)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:117)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:740)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:21)
	at org.jetbrains.jet.lang.psi.JetArrayAccessExpression.accept(JetArrayAccessExpression.java:39)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateInstructions(JetControlFlowProcessor.java:155)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateReceiver(JetControlFlowProcessor.java:1098)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1074)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1065)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.checkAndGenerateCall(JetControlFlowProcessor.java:1058)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:888)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:117)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:740)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:21)
	at org.jetbrains.jet.lang.psi.JetArrayAccessExpression.accept(JetArrayAccessExpression.java:39)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateInstructions(JetControlFlowProcessor.java:155)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateReceiver(JetControlFlowProcessor.java:1098)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1074)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1065)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.checkAndGenerateCall(JetControlFlowProcessor.java:1058)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:888)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:117)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:740)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:21)
	at org.jetbrains.jet.lang.psi.JetArrayAccessExpression.accept(JetArrayAccessExpression.java:39)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateInstructions(JetControlFlowProcessor.java:155)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateReceiver(JetControlFlowProcessor.java:1098)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1074)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1065)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.checkAndGenerateCall(JetControlFlowProcessor.java:1058)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:888)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:117)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:740)
	at org.jetbrains.jet.lang.psi.JetVisitorVoidWithParameter.visitArrayAccessExpression(JetVisitorVoidWithParameter.java:21)
	at org.jetbrains.jet.lang.psi.JetArrayAccessExpression.accept(JetArrayAccessExpression.java:39)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateInstructions(JetControlFlowProcessor.java:155)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateReceiver(JetControlFlowProcessor.java:1098)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1074)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.generateCall(JetControlFlowProcessor.java:1065)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.checkAndGenerateCall(JetControlFlowProcessor.java:1058)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:888)
	at org.jetbrains.jet.lang.cfg.JetControlFlowProcessor$CFPVisitor.visitArrayAccessExpressionVoid(JetControlFlowProcessor.java:117)
{cut}