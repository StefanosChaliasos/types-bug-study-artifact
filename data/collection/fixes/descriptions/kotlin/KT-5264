```
enum class A {
    AA
}

enum class B {
    BB
}

val x = if (1 < 2) A.AA else B.BB
```

null
java.lang.StackOverflowError
	at java.lang.String.indexOf(String.java:1521)
	at org.jetbrains.jet.lang.resolve.name.FqNameUnsafe.isValid(FqNameUnsafe.java:71)
	at org.jetbrains.jet.lang.resolve.name.FqNameUnsafe.validateFqName(FqNameUnsafe.java:64)
	at org.jetbrains.jet.lang.resolve.name.FqNameUnsafe.<init>(FqNameUnsafe.java:59)
	at org.jetbrains.jet.lang.resolve.name.FqNameUnsafe.child(FqNameUnsafe.java:138)
	at org.jetbrains.jet.lang.resolve.DescriptorUtils.getFqNameUnsafe(DescriptorUtils.java:157)
	at org.jetbrains.jet.lang.resolve.DescriptorUtils.getFqName(DescriptorUtils.java:121)
	at org.jetbrains.jet.lang.types.AbstractClassTypeConstructor.hashCode(AbstractClassTypeConstructor.java:64)
	at org.jetbrains.jet.lang.types.AbstractClassTypeConstructor.hashCode(AbstractClassTypeConstructor.java:28)
	at org.jetbrains.jet.lang.types.AbstractJetType.hashCode(AbstractJetType.java:27)
	at org.jetbrains.jet.lang.types.TypeProjectionBase.hashCode(TypeProjectionBase.java:45)
	at java.util.AbstractList.hashCode(AbstractList.java:527)
	at org.jetbrains.jet.lang.types.AbstractJetType.hashCode(AbstractJetType.java:28)
	at java.util.HashMap.put(HashMap.java:372)
	at java.util.HashSet.add(HashSet.java:200)
	at org.jetbrains.jet.lang.types.TypeUtils$6.beforeChildren(TypeUtils.java:645)
	at org.jetbrains.jet.lang.types.TypeUtils$6.beforeChildren(TypeUtils.java:635)
	at org.jetbrains.jet.utils.DFS.doDfs(DFS.java:74)
	at org.jetbrains.jet.utils.DFS.doDfs(DFS.java:76)
	at org.jetbrains.jet.utils.DFS.dfs(DFS.java:27)
	at org.jetbrains.jet.lang.types.TypeUtils.topologicallySortSuperclassesAndRecordAllInstances(TypeUtils.java:612)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeCommonRawSupertypes(CommonSupertypes.java:111)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:81)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjection(CommonSupertypes.java:222)
	at org.jetbrains.jet.lang.types.CommonSupertypes.computeSupertypeProjections(CommonSupertypes.java:158)
	at org.jetbrains.jet.lang.types.CommonSupertypes.commonSupertype(CommonSupertypes.java:95)