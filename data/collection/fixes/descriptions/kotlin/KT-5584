{code}
inline fun foo(lambda: () -> Unit) = lambda()

fun bar() {
    foo {
        return
    }
}
{code}

Exception:
{code}
EXCEPTION: /Users/udalov/kotlin/1.kt: (5, 9) org.jetbrains.jet.codegen.CompilationException: Back-end (JVM) Internal error: Non local returns requires enabled inlining
File being compiled and position: (5,9) in /Users/udalov/kotlin/1.kt
PsiElement: return

	at org.jetbrains.jet.codegen.ExpressionCodegen.visitReturnExpression(ExpressionCodegen.java:1606)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitReturnExpression(ExpressionCodegen.java:93)
	at org.jetbrains.jet.lang.psi.JetReturnExpression.accept(JetReturnExpression.java:30)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:242)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:223)
	at org.jetbrains.jet.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:258)
	at org.jetbrains.jet.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1446)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:1279)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:93)
	at org.jetbrains.jet.lang.psi.JetBlockExpression.accept(JetBlockExpression.java:43)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:242)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:223)
	at org.jetbrains.jet.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:258)
	at org.jetbrains.jet.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1663)
	at org.jetbrains.jet.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:50)
	at org.jetbrains.jet.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:72)
	at org.jetbrains.jet.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:310)
	at org.jetbrains.jet.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:170)
	at org.jetbrains.jet.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:119)
	at org.jetbrains.jet.codegen.ClosureCodegen.gen(ClosureCodegen.java:165)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genClosure(ExpressionCodegen.java:1321)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitFunctionLiteralExpression(ExpressionCodegen.java:1304)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitFunctionLiteralExpression(ExpressionCodegen.java:93)
	at org.jetbrains.jet.lang.psi.JetFunctionLiteralExpression.accept(JetFunctionLiteralExpression.java:34)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:242)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:223)
	at org.jetbrains.jet.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:258)
	at org.jetbrains.jet.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.java:74)
	at org.jetbrains.jet.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:61)
	at org.jetbrains.jet.codegen.ArgumentGenerator.generate(ArgumentGenerator.java:38)
	at org.jetbrains.jet.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2179)
	at org.jetbrains.jet.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2159)
	at org.jetbrains.jet.codegen.ExpressionCodegen.invokeFunction(ExpressionCodegen.java:2079)
	at org.jetbrains.jet.codegen.ExpressionCodegen.invokeFunction(ExpressionCodegen.java:2053)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitCallExpression(ExpressionCodegen.java:1977)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitCallExpression(ExpressionCodegen.java:93)
	at org.jetbrains.jet.lang.psi.JetCallExpression.accept(JetCallExpression.java:37)
	at org.jetbrains.jet.codegen.CodegenStatementVisitor.visitJetElement(CodegenStatementVisitor.java:31)
	at org.jetbrains.jet.codegen.CodegenStatementVisitor.visitJetElement(CodegenStatementVisitor.java:22)
	at org.jetbrains.jet.lang.psi.JetVisitor.visitExpression(JetVisitor.java:158)
	at org.jetbrains.jet.lang.psi.JetVisitor.visitReferenceExpression(JetVisitor.java:174)
	at org.jetbrains.jet.lang.psi.JetVisitor.visitCallExpression(JetVisitor.java:250)
	at org.jetbrains.jet.lang.psi.JetCallExpression.accept(JetCallExpression.java:37)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:242)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:271)
	at org.jetbrains.jet.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1446)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:1279)
	at org.jetbrains.jet.codegen.ExpressionCodegen.visitBlockExpression(ExpressionCodegen.java:93)
	at org.jetbrains.jet.lang.psi.JetBlockExpression.accept(JetBlockExpression.java:43)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:242)
	at org.jetbrains.jet.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:223)
	at org.jetbrains.jet.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:258)
	at org.jetbrains.jet.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1663)
	at org.jetbrains.jet.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:50)
	at org.jetbrains.jet.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:72)
	at org.jetbrains.jet.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:310)
	at org.jetbrains.jet.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:170)
	at org.jetbrains.jet.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:119)
	at org.jetbrains.jet.codegen.FunctionCodegen.gen(FunctionCodegen.java:104)
	at org.jetbrains.jet.codegen.MemberCodegen.genFunctionOrProperty(MemberCodegen.java:121)
	at org.jetbrains.jet.codegen.PackagePartCodegen.generateBody(PackagePartCodegen.java:64)
	at org.jetbrains.jet.codegen.MemberCodegen.generate(MemberCodegen.java:91)
	at org.jetbrains.jet.codegen.PackageCodegen.generate(PackageCodegen.java:314)
	at org.jetbrains.jet.codegen.PackageCodegen.generate(PackageCodegen.java:209)
	at org.jetbrains.jet.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:80)
	at org.jetbrains.jet.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:67)
	at org.jetbrains.jet.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.java:381)
	at org.jetbrains.jet.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyzeAndGenerate(KotlinToJVMBytecodeCompiler.java:280)
	at org.jetbrains.jet.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileBunchOfSources(KotlinToJVMBytecodeCompiler.java:205)
	at org.jetbrains.jet.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.java:160)
	at org.jetbrains.jet.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.java:53)
	at org.jetbrains.jet.cli.common.CLICompiler.exec(CLICompiler.java:136)
	at org.jetbrains.jet.cli.common.CLICompiler.exec(CLICompiler.java:122)
	at org.jetbrains.jet.cli.common.CLICompiler.exec(CLICompiler.java:55)
	at org.jetbrains.jet.cli.common.CLICompiler.doMainNoExit(CLICompiler.java:191)
	at org.jetbrains.jet.cli.common.CLICompiler.doMain(CLICompiler.java:182)
	at org.jetbrains.jet.cli.jvm.K2JVMCompiler.main(K2JVMCompiler.java:57)
{code}

The expected behavior would be to issue a compilation error that non-local returns are not allowed without inlines.