I encountered a constellation of implicit parameters and definitions around the type-class/type-trait pattern in combination with a generic factory method for instances that can cause NPEs due to implicit parameters being null. The attached file demonstrates the problem and constellations I've found to work/not work. I compiled and ran the code standalone against 2.9.2.