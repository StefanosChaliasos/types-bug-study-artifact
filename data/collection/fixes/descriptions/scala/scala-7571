{code}
scala> class Foo(val a: Int) extends AnyVal { def foo = { {case x => x}: PartialFunction[Int, Int]; () }}
<console>:7: error: implementation restriction: nested class is not allowed in value class
This restriction is planned to be removed in subsequent releases.
       class Foo(val a: Int) extends AnyVal { def foo = { {case x => x}: PartialFunction[Int, Int]; () }}{code}